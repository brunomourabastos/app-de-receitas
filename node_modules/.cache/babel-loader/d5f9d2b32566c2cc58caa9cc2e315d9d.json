{"ast":null,"code":"var _jsxFileName = \"/Users/brunobastos/bruno/projetos-trybe/sd-019-c-project-recipes-app/sd-019-c-project-recipes-app/src/pages/FoodIngredients.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Footer from '../components/Footer';\nimport Header from '../components/Header';\nimport MyContext from '../context/MyContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction FoodIngredients() {\n  _s();\n\n  const {\n    ingredients,\n    setIngredients,\n    setFilteredFood,\n    setFood,\n    setGlobalRender\n  } = useContext(MyContext);\n  const history = useHistory();\n  useEffect(() => {\n    async function fetchIngredients() {\n      const url = 'https://www.themealdb.com/api/json/v1/1/list.php?i=list';\n      const response = await fetch(url);\n      const data = await response.json();\n      setIngredients(data.meals);\n      console.log(data);\n    }\n\n    fetchIngredients();\n  }, [setIngredients]);\n  const MAX_RENDER = 12;\n\n  if (ingredients.length > MAX_RENDER) {\n    ingredients.length = 12;\n  }\n\n  async function fetchFoodsByIngredient(value) {\n    const url = `https://www.themealdb.com/api/json/v1/1/filter.php?i=${value}`;\n    const response = await fetch(url);\n    const data = await response.json();\n    setFood(data.meals);\n    console.log(data);\n  }\n\n  function selectIngredient(event) {\n    setFilteredFood(true);\n    setGlobalRender(false);\n    fetchFoodsByIngredient(event.target.id);\n    history.push('/foods');\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      pageName: \"Explore Ingredients\",\n      needRender: false\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \" Estou na Explore Foods Ingredients\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), ingredients.length > 0 && ingredients.map((element, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      id: `${element.strIngredient}`,\n      \"data-testid\": `${index}-ingredient-card`,\n      onClick: selectIngredient,\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        id: `${element.strIngredient}`,\n        \"data-testid\": `${index}-card-img`,\n        src: `https://www.themealdb.com/images/ingredients/${element.strIngredient}-Small.png`,\n        alt: \"ingredient ilustration\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        id: `${element.strIngredient}`,\n        \"data-testid\": `${index}-card-name`,\n        children: element.strIngredient\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(FoodIngredients, \"99drKLPoZkdHm+nmCKBBOXd3irI=\", false, function () {\n  return [useHistory];\n});\n\n_c = FoodIngredients;\nexport default FoodIngredients;\n\nvar _c;\n\n$RefreshReg$(_c, \"FoodIngredients\");","map":{"version":3,"sources":["/Users/brunobastos/bruno/projetos-trybe/sd-019-c-project-recipes-app/sd-019-c-project-recipes-app/src/pages/FoodIngredients.jsx"],"names":["React","useContext","useEffect","useHistory","Footer","Header","MyContext","FoodIngredients","ingredients","setIngredients","setFilteredFood","setFood","setGlobalRender","history","fetchIngredients","url","response","fetch","data","json","meals","console","log","MAX_RENDER","length","fetchFoodsByIngredient","value","selectIngredient","event","target","id","push","map","element","index","strIngredient"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Footer from '../components/Footer';\nimport Header from '../components/Header';\nimport MyContext from '../context/MyContext';\n\nfunction FoodIngredients() {\n  const { ingredients, setIngredients, setFilteredFood,\n    setFood, setGlobalRender } = useContext(MyContext);\n  const history = useHistory();\n\n  useEffect(() => {\n    async function fetchIngredients() {\n      const url = 'https://www.themealdb.com/api/json/v1/1/list.php?i=list';\n      const response = await fetch(url);\n      const data = await response.json();\n      setIngredients(data.meals);\n      console.log(data);\n    }\n    fetchIngredients();\n  }, [setIngredients]);\n\n  const MAX_RENDER = 12;\n  if (ingredients.length > MAX_RENDER) {\n    ingredients.length = 12;\n  }\n\n  async function fetchFoodsByIngredient(value) {\n    const url = `https://www.themealdb.com/api/json/v1/1/filter.php?i=${value}`;\n    const response = await fetch(url);\n    const data = await response.json();\n    setFood(data.meals);\n    console.log(data);\n  }\n\n  function selectIngredient(event) {\n    setFilteredFood(true);\n    setGlobalRender(false);\n    fetchFoodsByIngredient(event.target.id);\n    history.push('/foods');\n  }\n\n  return (\n    <>\n      <Header pageName=\"Explore Ingredients\" needRender={ false } />\n      <div> Estou na Explore Foods Ingredients</div>\n      {ingredients.length > 0\n      && ingredients.map((element, index) => (\n        <button\n          type=\"button\"\n          key={ index }\n          id={ `${element.strIngredient}` }\n          data-testid={ `${index}-ingredient-card` }\n          onClick={ selectIngredient }\n        >\n          <img\n            id={ `${element.strIngredient}` }\n            data-testid={ `${index}-card-img` }\n            src={ `https://www.themealdb.com/images/ingredients/${element.strIngredient}-Small.png` }\n            alt=\"ingredient ilustration\"\n          />\n          <p\n            id={ `${element.strIngredient}` }\n            data-testid={ `${index}-card-name` }\n          >\n            {element.strIngredient}\n          </p>\n        </button>\n      ))}\n      <Footer />\n    </>\n  );\n}\n\nexport default FoodIngredients;\n"]},"metadata":{},"sourceType":"module"}