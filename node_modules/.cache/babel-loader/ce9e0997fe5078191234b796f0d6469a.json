{"ast":null,"code":"var _jsxFileName = \"/Users/brunobastos/bruno/projetos-trybe/sd-019-c-project-recipes-app/sd-019-c-project-recipes-app/src/pages/FoodInProgress.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Button } from 'react-bootstrap';\nimport { useLocation, useHistory } from 'react-router-dom';\nimport ShareAndFavFood from '../components/ShareAndFav';\nimport './FixedButton.css';\nimport './FoodInProgess.css'; // teste\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction FoodInProgress() {\n  _s();\n\n  const [food, setFood] = useState('');\n  const [enableButton, setEnableButton] = useState(true);\n  const location = useLocation();\n  const history = useHistory();\n  const {\n    pathname: id\n  } = location;\n  const idNumber = id.split('foods/')[1].split('/')[0];\n  useEffect(() => {\n    const fetchById = async () => {\n      const url = `https://www.themealdb.com/api/json/v1/1/lookup.php?i=${idNumber}`;\n      const response = await fetch(url);\n      const data = await response.json();\n      setFood(data.meals);\n    };\n\n    fetchById();\n  }, [idNumber]);\n\n  if (food.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Carregando\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 13\n    }, this);\n  }\n\n  const ingredients = Object.values(Object.fromEntries(Object.entries(food[0]).filter(_ref => {\n    let [key] = _ref;\n    return key.includes('Ingredient');\n  }))).filter(e => e !== null).filter(ingredient => ingredient.length > 0);\n  const measures = Object.values(Object.fromEntries(Object.entries(food[0]).filter(_ref2 => {\n    let [key] = _ref2;\n    return key.includes('Measure');\n  }))).filter(e => e !== null);\n  const totalIngredients = ingredients.map((element, index) => measures[index] ? element.concat(` - ${measures[index]}`) : element);\n\n  const redirectDoneRecipes = () => {\n    history.push('/done-recipes');\n  };\n\n  const verifyFinishButton = () => {\n    const checked = document.querySelectorAll('input[type=checkbox]:checked').length;\n    const allCheckbox = document.querySelectorAll('input[type=checkbox]').length;\n\n    if (checked === allCheckbox) {\n      setEnableButton(false);\n    } else {\n      setEnableButton(true);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      width: 360,\n      \"data-testid\": \"recipe-photo\",\n      src: food[0].strMealThumb,\n      alt: \"ilustra\\xE7\\xE3o da receita\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      \"data-testid\": \"recipe-title\",\n      children: food[0].strMeal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      \"data-testid\": \"recipe-category\",\n      children: food[0].strCategory\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ShareAndFavFood, {\n      recipeContent: food\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Ingredients\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), totalIngredients.map((element, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      \"data-testid\": `${index}-ingredient-step`,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: verifyFinishButton,\n        type: \"checkbox\",\n        name: element\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: element,\n        children: element\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Instructions\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      \"data-testid\": \"instructions\",\n      children: food[0].strInstructions\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      disabled: enableButton,\n      onClick: redirectDoneRecipes,\n      \"data-testid\": \"finish-recipe-btn\",\n      className: \"finish-recipe-button\",\n      children: \"Finish Recipe\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n}\n\n_s(FoodInProgress, \"atlctQDq7TkA8l5BiWmO9Yufidg=\", false, function () {\n  return [useLocation, useHistory];\n});\n\n_c = FoodInProgress;\nexport default FoodInProgress;\n\nvar _c;\n\n$RefreshReg$(_c, \"FoodInProgress\");","map":{"version":3,"sources":["/Users/brunobastos/bruno/projetos-trybe/sd-019-c-project-recipes-app/sd-019-c-project-recipes-app/src/pages/FoodInProgress.jsx"],"names":["React","useEffect","useState","Button","useLocation","useHistory","ShareAndFavFood","FoodInProgress","food","setFood","enableButton","setEnableButton","location","history","pathname","id","idNumber","split","fetchById","url","response","fetch","data","json","meals","length","ingredients","Object","values","fromEntries","entries","filter","key","includes","e","ingredient","measures","totalIngredients","map","element","index","concat","redirectDoneRecipes","push","verifyFinishButton","checked","document","querySelectorAll","allCheckbox","strMealThumb","strMeal","strCategory","strInstructions"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,MAAT,QAAuB,iBAAvB;AACA,SAASC,WAAT,EAAsBC,UAAtB,QAAwC,kBAAxC;AACA,OAAOC,eAAP,MAA4B,2BAA5B;AACA,OAAO,mBAAP;AACA,OAAO,qBAAP,C,CACA;;;;AACA,SAASC,cAAT,GAA0B;AAAA;;AACxB,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBP,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACQ,YAAD,EAAeC,eAAf,IAAkCT,QAAQ,CAAC,IAAD,CAAhD;AACA,QAAMU,QAAQ,GAAGR,WAAW,EAA5B;AACA,QAAMS,OAAO,GAAGR,UAAU,EAA1B;AACA,QAAM;AAAES,IAAAA,QAAQ,EAAEC;AAAZ,MAAmBH,QAAzB;AACA,QAAMI,QAAQ,GAAGD,EAAE,CAACE,KAAH,CAAS,QAAT,EAAmB,CAAnB,EAAsBA,KAAtB,CAA4B,GAA5B,EAAiC,CAAjC,CAAjB;AAEAhB,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMiB,SAAS,GAAG,YAAY;AAC5B,YAAMC,GAAG,GAAI,wDAAuDH,QAAS,EAA7E;AACA,YAAMI,QAAQ,GAAG,MAAMC,KAAK,CAACF,GAAD,CAA5B;AACA,YAAMG,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAnB;AACAd,MAAAA,OAAO,CAACa,IAAI,CAACE,KAAN,CAAP;AACD,KALD;;AAMAN,IAAAA,SAAS;AACV,GARQ,EAQN,CAACF,QAAD,CARM,CAAT;;AAUA,MAAIR,IAAI,CAACiB,MAAL,KAAgB,CAApB,EAAuB;AACrB,wBAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAR;AACD;;AAED,QAAMC,WAAW,GAAGC,MAAM,CAACC,MAAP,CAAcD,MAAM,CAACE,WAAP,CAAmBF,MAAM,CAACG,OAAP,CAAetB,IAAI,CAAC,CAAD,CAAnB,EAClDuB,MADkD,CAC3C;AAAA,QAAC,CAACC,GAAD,CAAD;AAAA,WAAWA,GAAG,CAACC,QAAJ,CAAa,YAAb,CAAX;AAAA,GAD2C,CAAnB,CAAd,EAC+BF,MAD/B,CACuCG,CAAD,IAAOA,CAAC,KAAK,IADnD,EAEjBH,MAFiB,CAETI,UAAD,IAAgBA,UAAU,CAACV,MAAX,GAAoB,CAF1B,CAApB;AAIA,QAAMW,QAAQ,GAAGT,MAAM,CAACC,MAAP,CAAcD,MAAM,CAACE,WAAP,CAAmBF,MAAM,CAACG,OAAP,CAAetB,IAAI,CAAC,CAAD,CAAnB,EAC/CuB,MAD+C,CACxC;AAAA,QAAC,CAACC,GAAD,CAAD;AAAA,WAAWA,GAAG,CAACC,QAAJ,CAAa,SAAb,CAAX;AAAA,GADwC,CAAnB,CAAd,EAC+BF,MAD/B,CACuCG,CAAD,IAAOA,CAAC,KAAK,IADnD,CAAjB;AAGA,QAAMG,gBAAgB,GAAGX,WAAW,CACjCY,GADsB,CAClB,CAACC,OAAD,EAAUC,KAAV,KACHJ,QAAQ,CAACI,KAAD,CAAR,GACID,OAAO,CAACE,MAAR,CAAgB,MAAKL,QAAQ,CAACI,KAAD,CAAQ,EAArC,CADJ,GAEID,OAJiB,CAAzB;;AAOA,QAAMG,mBAAmB,GAAG,MAAM;AAChC7B,IAAAA,OAAO,CAAC8B,IAAR,CAAa,eAAb;AACD,GAFD;;AAIA,QAAMC,kBAAkB,GAAG,MAAM;AAC/B,UAAMC,OAAO,GAAGC,QAAQ,CAACC,gBAAT,CAA0B,8BAA1B,EAA0DtB,MAA1E;AACA,UAAMuB,WAAW,GAAGF,QAAQ,CAACC,gBAAT,CAA0B,sBAA1B,EAAkDtB,MAAtE;;AACA,QAAIoB,OAAO,KAAKG,WAAhB,EAA6B;AAC3BrC,MAAAA,eAAe,CAAC,KAAD,CAAf;AACD,KAFD,MAEO;AACLA,MAAAA,eAAe,CAAC,IAAD,CAAf;AACD;AACF,GARD;;AAUA,sBACE;AAAA,4BACE;AACE,MAAA,KAAK,EAAG,GADV;AAEE,qBAAY,cAFd;AAGE,MAAA,GAAG,EAAGH,IAAI,CAAC,CAAD,CAAJ,CAAQyC,YAHhB;AAIE,MAAA,GAAG,EAAC;AAJN;AAAA;AAAA;AAAA;AAAA,YADF,eAOE;AAAI,qBAAY,cAAhB;AAAA,gBACGzC,IAAI,CAAC,CAAD,CAAJ,CAAQ0C;AADX;AAAA;AAAA;AAAA;AAAA,YAPF,eAUE;AAAG,qBAAY,iBAAf;AAAA,gBAAkC1C,IAAI,CAAC,CAAD,CAAJ,CAAQ2C;AAA1C;AAAA;AAAA;AAAA;AAAA,YAVF,eAWE,QAAC,eAAD;AAAiB,MAAA,aAAa,EAAG3C;AAAjC;AAAA;AAAA;AAAA;AAAA,YAXF,eAYE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAZF,EAaG6B,gBAAgB,CAACC,GAAjB,CAAqB,CAACC,OAAD,EAAUC,KAAV,kBACpB;AAAmB,qBAAe,GAAEA,KAAM,kBAA1C;AAAA,8BACE;AACE,QAAA,QAAQ,EAAGI,kBADb;AAEE,QAAA,IAAI,EAAC,UAFP;AAGE,QAAA,IAAI,EAAGL;AAHT;AAAA;AAAA;AAAA;AAAA,cADF,eAME;AAAO,QAAA,OAAO,EAAGA,OAAjB;AAAA,kBACIA;AADJ;AAAA;AAAA;AAAA;AAAA,cANF;AAAA,OAAWC,KAAX;AAAA;AAAA;AAAA;AAAA,YADD,CAbH,eAyBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAzBF,eA0BE;AAAG,qBAAY,cAAf;AAAA,gBAA+BhC,IAAI,CAAC,CAAD,CAAJ,CAAQ4C;AAAvC;AAAA;AAAA;AAAA;AAAA,YA1BF,eA2BE,QAAC,MAAD;AACE,MAAA,QAAQ,EAAG1C,YADb;AAEE,MAAA,OAAO,EAAGgC,mBAFZ;AAGE,qBAAY,mBAHd;AAIE,MAAA,SAAS,EAAC,sBAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YA3BF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAwCD;;GA1FQnC,c;UAGUH,W,EACDC,U;;;KAJTE,c;AA4FT,eAAeA,cAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Button } from 'react-bootstrap';\nimport { useLocation, useHistory } from 'react-router-dom';\nimport ShareAndFavFood from '../components/ShareAndFav';\nimport './FixedButton.css';\nimport './FoodInProgess.css';\n// teste\nfunction FoodInProgress() {\n  const [food, setFood] = useState('');\n  const [enableButton, setEnableButton] = useState(true);\n  const location = useLocation();\n  const history = useHistory();\n  const { pathname: id } = location;\n  const idNumber = id.split('foods/')[1].split('/')[0];\n\n  useEffect(() => {\n    const fetchById = async () => {\n      const url = `https://www.themealdb.com/api/json/v1/1/lookup.php?i=${idNumber}`;\n      const response = await fetch(url);\n      const data = await response.json();\n      setFood(data.meals);\n    };\n    fetchById();\n  }, [idNumber]);\n\n  if (food.length === 0) {\n    return (<div>Carregando</div>);\n  }\n\n  const ingredients = Object.values(Object.fromEntries(Object.entries(food[0])\n    .filter(([key]) => key.includes('Ingredient')))).filter((e) => e !== null)\n    .filter((ingredient) => ingredient.length > 0);\n\n  const measures = Object.values(Object.fromEntries(Object.entries(food[0])\n    .filter(([key]) => key.includes('Measure')))).filter((e) => e !== null);\n\n  const totalIngredients = ingredients\n    .map((element, index) => (\n      measures[index]\n        ? element.concat(` - ${measures[index]}`)\n        : element\n    ));\n\n  const redirectDoneRecipes = () => {\n    history.push('/done-recipes');\n  };\n\n  const verifyFinishButton = () => {\n    const checked = document.querySelectorAll('input[type=checkbox]:checked').length;\n    const allCheckbox = document.querySelectorAll('input[type=checkbox]').length;\n    if (checked === allCheckbox) {\n      setEnableButton(false);\n    } else {\n      setEnableButton(true);\n    }\n  };\n\n  return (\n    <div>\n      <img\n        width={ 360 }\n        data-testid=\"recipe-photo\"\n        src={ food[0].strMealThumb }\n        alt=\"ilustração da receita\"\n      />\n      <h1 data-testid=\"recipe-title\">\n        {food[0].strMeal}\n      </h1>\n      <p data-testid=\"recipe-category\">{food[0].strCategory}</p>\n      <ShareAndFavFood recipeContent={ food } />\n      <h3>Ingredients</h3>\n      {totalIngredients.map((element, index) => (\n        <div key={ index } data-testid={ `${index}-ingredient-step` }>\n          <input\n            onChange={ verifyFinishButton }\n            type=\"checkbox\"\n            name={ element }\n          />\n          <label htmlFor={ element }>\n            { element }\n          </label>\n        </div>\n      ))}\n      <h3>Instructions</h3>\n      <p data-testid=\"instructions\">{food[0].strInstructions}</p>\n      <Button\n        disabled={ enableButton }\n        onClick={ redirectDoneRecipes }\n        data-testid=\"finish-recipe-btn\"\n        className=\"finish-recipe-button\"\n      >\n        Finish Recipe\n\n      </Button>\n    </div>\n\n  );\n}\n\nexport default FoodInProgress;\n"]},"metadata":{},"sourceType":"module"}